{"version":3,"file":"CategoryComponent-XJo_r3vs.js","sources":["../../src/components/categories/CategoryComponent.jsx"],"sourcesContent":["import { useParams, useNavigate } from \"react-router-dom\";\nimport { getProducts } from \"../../asyncMock\";\nimport { useEffect, useState } from \"react\";\nimport './CategoryComponent.css';\n\nexport default function CategoryComponent() {\n    const navigate = useNavigate();\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const { catName } = useParams();\n\n    useEffect(() => {\n        console.log('Categoría actual:', catName);\n        setLoading(true);\n        getProducts()\n            .then(data => {\n                console.log('Todos los productos:', data);\n                const filteredProducts = data.filter(product => {\n                    console.log('Comparando:', product.category.toLowerCase(), 'con', catName.toLowerCase());\n                    return product.category.toLowerCase() === catName.toLowerCase();\n                });\n                console.log('Productos filtrados:', filteredProducts);\n                setProducts(filteredProducts);\n            })\n            .catch(err => {\n                console.error(\"Error completo:\", err);\n                setError(\"Error al cargar los productos. Por favor, intente nuevamente.\");\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }, [catName]);\n\n    if (loading) {\n        return (\n            <div className=\"category-container\">\n                <div className=\"loading-container\">\n                    <div className=\"loading-spinner\"></div>\n                    <p>Cargando productos...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"category-container\">\n                <div className=\"error-container\">\n                    <p>{error}</p>\n                    <button onClick={() => window.location.reload()}>Reintentar</button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"category-container\">\n            <div className=\"category-header\">\n                <h1 className=\"category-title\">{catName}</h1>\n                <p className=\"category-description\">\n                    Explora nuestra selección de productos en la categoría {catName}\n                </p>\n            </div>\n\n            {products.length === 0 ? (\n                <div className=\"no-products\">\n                    <p>No hay productos disponibles en esta categoría.</p>\n                </div>\n            ) : (\n                <div className=\"category-grid\">\n                    {products.map(product => (\n                        <article key={product.id} className=\"category-product-card\">\n                            <img \n                                src={product.image} \n                                alt={product.title}\n                                className=\"category-product-image\"\n                                loading=\"lazy\"\n                                onError={(e) => {\n                                    e.target.src = '/placeholder-image.jpg';\n                                }}\n                            />\n                            <div className=\"category-product-info\">\n                                <h2 className=\"category-product-title\">{product.title}</h2>\n                                <p className=\"category-product-price\">\n                                    $ {product.price.toLocaleString()}\n                                </p>\n                                <p className=\"category-product-description\">\n                                    {product.description}\n                                </p>\n                                <button \n                                    className=\"category-product-button\"\n                                    onClick={() => navigate(`/product/${product.id}`)}\n                                    aria-label={`Ver detalles de ${product.title}`}\n                                >\n                                    Ver detalles\n                                </button>\n                            </div>\n                        </article>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}"],"names":["CategoryComponent","navigate","useNavigate","products","setProducts","useState","loading","setLoading","error","setError","catName","useParams","useEffect","console","log","getProducts","then","data","filteredProducts","filter","product","category","toLowerCase","catch","err","finally","className","children","jsxs","jsx","onClick","window","location","reload","length","map","jsxRuntimeExports","src","image","alt","title","onError","e","target","price","toLocaleString","description","id"],"mappings":"2IAKA,SAAwBA,IACpB,MAAMC,EAAWC,KACVC,EAAUC,GAAeC,EAAAA,SAAS,KAClCC,EAASC,GAAcF,EAAAA,UAAS,IAChCG,EAAOC,GAAYJ,EAAAA,SAAS,OAC7BK,QAAEA,GAAYC,IAwBpB,OAtBAC,EAAAA,WAAU,KACEC,QAAAC,IAAI,oBAAqBJ,GACjCH,GAAW,GACCQ,IACPC,MAAaC,IACFJ,QAAAC,IAAI,uBAAwBG,GAC9B,MAAAC,EAAmBD,EAAKE,QAAkBC,IACpCP,QAAAC,IAAI,cAAeM,EAAQC,SAASC,cAAe,MAAOZ,EAAQY,eACnEF,EAAQC,SAASC,gBAAkBZ,EAAQY,iBAE9CT,QAAAC,IAAI,uBAAwBI,GACpCd,EAAYc,EAAgB,IAE/BK,OAAaC,IACFX,QAAAL,MAAM,kBAAmBgB,GACjCf,EAAS,gEAA+D,IAE3EgB,SAAQ,KACLlB,GAAW,EAAK,GACnB,GACN,CAACG,IAEAJ,QAEK,MAAI,CAAAoB,UAAU,qBACXC,SAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,oBACXC,SAAA,GAACE,IAAA,MAAA,CAAIH,UAAU,sBACfG,IAAC,KAAEF,SAAqB,+BAMpCnB,QAEK,MAAI,CAAAkB,UAAU,qBACXC,SAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,kBACXC,SAAA,GAAAE,IAAC,KAAGF,SAAMnB,UACT,UAAOsB,QAAS,IAAMC,OAAOC,SAASC,SAAUN,SAAU,sBAOvEC,KAAC,MAAI,CAAAF,UAAU,qBACXC,SAAA,GAACC,KAAA,MAAA,CAAIF,UAAU,kBACXC,SAAA,CAACE,EAAAA,IAAA,KAAA,CAAGH,UAAU,iBAAkBC,SAAQjB,MACxCkB,KAAC,IAAE,CAAAF,UAAU,uBAAuBC,SAAA,CAAA,0DACwBjB,QAI3C,IAApBP,EAAS+B,OACNL,EAAAA,IAAC,OAAIH,UAAU,cACXC,WAACE,IAAA,IAAA,CAAEF,SAA+C,wDAGrDE,IAAA,MAAA,CAAIH,UAAU,gBACVC,SAAAxB,EAASgC,KACNf,GAAAgB,EAAAR,KAAC,UAAyB,CAAAF,UAAU,wBAChCC,SAAA,CAAAS,EAAAP,IAAC,MAAA,CACGQ,IAAKjB,EAAQkB,MACbC,IAAKnB,EAAQoB,MACbd,UAAU,yBACVpB,QAAQ,OACRmC,QAAUC,IACNA,EAAEC,OAAON,IAAM,wBAAA,MAGvBT,KAAC,MAAI,CAAAF,UAAU,wBACXC,SAAA,CAAAE,EAAAA,IAAC,KAAG,CAAAH,UAAU,yBAA0BC,SAAAP,EAAQoB,UAChDZ,KAAC,IAAE,CAAAF,UAAU,yBAAyBC,SAAA,CAAA,KAC/BP,EAAQwB,MAAMC,oBAEpBhB,EAAAA,IAAA,IAAA,CAAEH,UAAU,+BACRC,WAAQmB,cAEbV,EAAAP,IAAC,SAAA,CACGH,UAAU,0BACVI,QAAS,IAAM7B,EAAS,YAAYmB,EAAQ2B,MAC5C,aAAY,mBAAmB3B,EAAQoB,QAC1Cb,SAAA,sBAtBKP,EAAQ2B,UAgC9C"}