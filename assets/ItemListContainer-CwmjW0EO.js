var r=Object.defineProperty,e=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(e,o,t)=>o in e?r(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,c=(r,e)=>{for(var o in e||(e={}))a.call(e,o)&&s(r,o,e[o]);if(t)for(var o of t(e))n.call(e,o)&&s(r,o,e[o]);return r},l=(r,t)=>e(r,o(t)),i=(r,e,o)=>new Promise(((t,a)=>{var n=r=>{try{c(o.next(r))}catch(e){a(e)}},s=r=>{try{c(o.throw(r))}catch(e){a(e)}},c=r=>r.done?t(r.value):Promise.resolve(r.value).then(n,s);c((o=o.apply(r,e)).next())}));import{a as d,u,j as p}from"./index-CCyh68Uu.js";import{r as g}from"./vendor-C9Evistz.js";import{g as h}from"./asyncMock-BjR9s3TE.js";function m(){const r=d(),{category:e}=u(),[o,t]=g.useState({products:[],loading:!0,error:null});g.useEffect((()=>{let r=!0;return(()=>{i(this,null,(function*(){if(r){t((r=>l(c({},r),{loading:!0,error:null})));try{const o=yield h();if(!r)return;const a=e?o.filter((r=>r.category.toLowerCase()===e.toLowerCase())):o;t({products:a,loading:!1,error:null})}catch(o){console.error("Error fetching products:",o),r&&t({products:[],loading:!1,error:"Error al cargar los productos. Por favor, intente nuevamente."})}}}))})(),()=>{r=!1}}),[e]);const{products:a,loading:n,error:s}=o;return n?p.jsx("main",{className:"contbig loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Cargando productos..."})]})}):s?p.jsx("main",{className:"contbig error",children:p.jsxs("div",{className:"error-container",children:[p.jsx("p",{children:s}),p.jsx("button",{onClick:()=>{t((r=>l(c({},r),{loading:!0,error:null})));(()=>{i(this,null,(function*(){try{const r=yield h(),o=e?r.filter((r=>r.category.toLowerCase()===e.toLowerCase())):r;t({products:o,loading:!1,error:null})}catch(r){console.error("Error fetching products:",r),t({products:[],loading:!1,error:"Error al cargar los productos. Por favor, intente nuevamente."})}}))})()},children:"Reintentar"})]})}):p.jsxs("main",{className:"contbig",children:[p.jsx("h1",{children:e?`${e}`:"Descubre nuestros productos"}),a&&0!==a.length?p.jsx("section",{className:"prodcards",children:a.map((e=>{var o;return p.jsxs("article",{className:"product-card",children:[p.jsx("div",{className:"img-container",children:p.jsx("img",{src:e.image,alt:e.title,loading:"lazy",onError:r=>{r.target.src="/placeholder-image.jpg"}})}),p.jsxs("div",{className:"product-info",children:[p.jsx("h4",{children:e.title}),p.jsxs("p",{className:"price",children:["$ ",null==(o=e.price)?void 0:o.toLocaleString()]}),p.jsx("button",{onClick:()=>{var o;(o=e.id)&&r(`/product/${o}`,{replace:!0})},"aria-label":`Ver detalles de ${e.title}`,children:"Ver detalles"})]})]},e.id)}))}):p.jsx("p",{className:"no-products",children:"No hay productos disponibles en esta categor√≠a."})]})}export{m as default};
//# sourceMappingURL=ItemListContainer-CwmjW0EO.js.map
