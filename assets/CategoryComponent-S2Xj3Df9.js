import{a as e,u as a,j as o}from"./index-CVTadyRG.js";import{g as r}from"./asyncMock-BjR9s3TE.js";import{r as s}from"./vendor-C9Evistz.js";function c(){const c=e(),[t,l]=s.useState([]),[i,n]=s.useState(!0),[d,g]=s.useState(null),{catName:p}=a();return s.useEffect((()=>{console.log("Categoría actual:",p),n(!0),r().then((e=>{console.log("Todos los productos:",e);const a=e.filter((e=>(console.log("Comparando:",e.category.toLowerCase(),"con",p.toLowerCase()),e.category.toLowerCase()===p.toLowerCase())));console.log("Productos filtrados:",a),l(a)})).catch((e=>{console.error("Error completo:",e),g("Error al cargar los productos. Por favor, intente nuevamente.")})).finally((()=>{n(!1)}))}),[p]),i?o.jsx("div",{className:"category-container",children:o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Cargando productos..."})]})}):d?o.jsx("div",{className:"category-container",children:o.jsxs("div",{className:"error-container",children:[o.jsx("p",{children:d}),o.jsx("button",{onClick:()=>window.location.reload(),children:"Reintentar"})]})}):o.jsxs("div",{className:"category-container",children:[o.jsxs("div",{className:"category-header",children:[o.jsx("h1",{className:"category-title",children:p}),o.jsxs("p",{className:"category-description",children:["Explora nuestra selección de productos en la categoría ",p]})]}),0===t.length?o.jsx("div",{className:"no-products",children:o.jsx("p",{children:"No hay productos disponibles en esta categoría."})}):o.jsx("div",{className:"category-grid",children:t.map((e=>o.jsxs("article",{className:"category-product-card",children:[o.jsx("img",{src:e.image,alt:e.title,className:"category-product-image",loading:"lazy",onError:e=>{e.target.src="/placeholder-image.jpg"}}),o.jsxs("div",{className:"category-product-info",children:[o.jsx("h2",{className:"category-product-title",children:e.title}),o.jsxs("p",{className:"category-product-price",children:["$ ",e.price.toLocaleString()]}),o.jsx("p",{className:"category-product-description",children:e.description}),o.jsx("button",{className:"category-product-button",onClick:()=>c(`/product/${e.id}`),"aria-label":`Ver detalles de ${e.title}`,children:"Ver detalles"})]})]},e.id)))})]})}export{c as default};
//# sourceMappingURL=CategoryComponent-S2Xj3Df9.js.map
