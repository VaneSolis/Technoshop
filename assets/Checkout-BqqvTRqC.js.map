{"version":3,"file":"Checkout-BqqvTRqC.js","sources":["../../src/components/product/Checkout.jsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { CartContext } from \"../../context/CartContext\";\nimport {useForm} from \"react-hook-form\";\nimport {collection, addDoc} from \"firebase/firestore\";\nimport {db} from '../../Firebase/Config';\nimport './Checkout.css'\n\nconst Checkout = () => {\n\n    const [pedidoId, setPedidoId] = useState(\"\");\n    const {carrito, precioTotal, vaciarCarrito} = useContext(CartContext);\n\n    const {register, handleSubmit} = useForm();\n\n    const comprar = (data) => {\n        const pedido = {\n            cliente: data,\n            productos: carrito,\n            total: precioTotal()\n        }\n        console.log(pedido);\n        const pedidosRef = collection(db, \"pedidos\");\n\n        addDoc(pedidosRef, pedido)\n        .then((doc) => {\n            setPedidoId(doc.id);\n            vaciarCarrito();\n        })\n    }\n    \n    if (pedidoId) {\n        return (\n            <div>\n                <h1>Muchas gracias por tu compra</h1>\n                <br />\n                <p>Tu número de pedido es: {pedidoId}</p>\n            </div>\n        )\n    }\n    \n\n    return (\n        <>\n        <div className=\"contacto-cont\">\n            <h1>¡Ya casi está listo!</h1>\n            <h3>Agrega tus datos en el siguiente formulario</h3>\n            <form className=\"formulario\" onSubmit={handleSubmit(comprar)}>\n            \n            <input type=\"text\" placeholder=\"Ingresa tu nombre\" {...register(\"nombre\")} />\n            <br /><br />\n            <input type=\"text\" placeholder=\"Ingresa tu email\" {...register(\"email\")} />\n            <br /><br />\n            <input type=\"text\" placeholder=\"Ingresa tu teléfono\" {...register(\"teléfono\")} />\n            <br /><br />\n            <button className=\"enviar\" type=\"submit\">Comprar</button>\n            \n            </form>\n        </div>\n        </>\n    )\n}\n\nexport default Checkout"],"names":["Checkout","pedidoId","setPedidoId","useState","carrito","precioTotal","vaciarCarrito","useContext","CartContext","register","handleSubmit","useForm","children","jsx","jsxRuntimeExports","Fragment","jsxs","className","onSubmit","data","pedido","cliente","productos","total","console","log","pedidosRef","collection","db","addDoc","then","doc","id","__spreadValues","type","placeholder"],"mappings":"wgBAOA,MAAMA,EAAW,KAEb,MAAOC,EAAUC,GAAeC,EAAAA,SAAS,KACnCC,QAACA,EAASC,YAAAA,EAAAC,cAAaA,GAAiBC,EAAAA,WAAWC,IAEnDC,SAACA,EAAAC,aAAUA,GAAgBC,IAkBjC,OAAIV,SAEK,MACG,CAAAW,SAAA,GAAAC,IAAC,MAAGD,SAA4B,uCAC/B,KAAG,WACH,IAAE,CAAAA,SAAA,CAAA,2BAAyBX,QAQpCa,EAAAD,IAAAE,WAAA,CAAAH,SAAAI,EAAAA,KAAC,MAAI,CAAAC,UAAU,gBACXL,SAAA,GAAAC,IAAC,MAAGD,SAAoB,2BACxBC,IAAC,MAAGD,SAA2C,uDAC9C,OAAK,CAAAK,UAAU,aAAaC,SAAUR,GAhC9BS,IACb,MAAMC,EAAS,CACXC,QAASF,EACTG,UAAWlB,EACXmB,MAAOlB,KAEXmB,QAAQC,IAAIL,GACN,MAAAM,EAAaC,EAAWC,EAAI,WAElCC,EAAOH,EAAYN,GAClBU,MAAMC,IACH7B,EAAY6B,EAAIC,IACF1B,GAAA,GACjB,IAqBGM,SAAA,CAACC,MAAA,QAAAoB,EAAM,CAAAC,KAAK,OAAOC,YAAY,qBAAwB1B,EAAS,kBAC/D,KAAG,UAAG,KAAG,IACVI,MAAC,UAAM,CAAAqB,KAAK,OAAOC,YAAY,oBAAuB1B,EAAS,iBAC9D,KAAG,UAAG,KAAG,IACVI,MAAC,UAAM,CAAAqB,KAAK,OAAOC,YAAY,uBAA0B1B,EAAS,oBACjE,KAAG,UAAG,KAAG,UACT,SAAO,CAAAQ,UAAU,SAASiB,KAAK,SAAStB,SAAO,mBAIpD"}